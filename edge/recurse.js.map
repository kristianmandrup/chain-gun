{"version":3,"sources":["recurse.js"],"names":["recurse","addRecurse","node","cb","filter","Object","val","map","data","soul","chain"],"mappings":";;;;;QAAgBA,O,GAAAA,O;QAmBAC,U,GAAAA,U;AAnBT,SAASD,OAAT,CAAiBE,IAAjB,EAAuBC,EAAvB,EAA2BC,MAA3B,EAAmC;AACxC,MAAI,EAAEA,kBAAkBC,MAApB,CAAJ,EAAiC;AAC/BD,aAAS,EAAT;AACD;AACDF,OAAKI,GAAL,CAASH,EAAT;AACAD,OAAKK,GAAL,GAAWD,GAAX,CAAe,UAAUE,IAAV,EAAgB;AAC7B,QAAI,EAAEA,gBAAgBH,MAAlB,CAAJ,EAA+B;AAC7B;AACD;AACD,QAAII,OAAOP,KAAKO,IAAL,CAAUD,IAAV,CAAX;AACA,QAAIJ,OAAOK,IAAP,CAAJ,EAAkB;AAChB;AACD;AACDL,WAAOK,IAAP,IAAe,IAAf;AACA,SAAKT,OAAL,CAAaG,EAAb,EAAiBC,MAAjB;AACD,GAVD;AAWA,SAAOF,IAAP;AACD;;AAEM,SAASD,UAAT,OAEJ;AAAA,MADDS,KACC,QADDA,KACC;;AACDA,QAAMV,OAAN,GAAgB,UAAUG,EAAV,EAAcC,MAAd,EAAsB;AACpC,WAAOJ,QAAQ,IAAR,EAAcG,EAAd,EAAkBC,MAAlB,CAAP;AACD,GAFD;;AAIA,SAAOM,KAAP;AACD","file":"recurse.js","sourcesContent":["export function recurse(node, cb, filter) {\n  if (!(filter instanceof Object)) {\n    filter = {};\n  }\n  node.val(cb);\n  node.map().val(function (data) {\n    if (!(data instanceof Object)) {\n      return;\n    }\n    var soul = node.soul(data);\n    if (filter[soul]) {\n      return;\n    }\n    filter[soul] = true;\n    this.recurse(cb, filter);\n  });\n  return node;\n};\n\nexport function addRecurse({\n  chain\n}) {\n  chain.recurse = function (cb, filter) {\n    return recurse(this, cb, filter)\n  }\n\n  return chain\n}"]}