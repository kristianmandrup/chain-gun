{"version":3,"sources":["value.js"],"names":["value","valueAt","valAt","addValue","node","cb","opt","val","field","v","obj","copy","_","call","at","pathNode","path","Error","chain"],"mappings":";;;;;QAEgBA,K,GAAAA,K;QAQAC,O,GAAAA,O;QASAC,K,GAAAA,K;QASAC,Q,GAAAA,Q;;AA5BhB;;;;;;AAEO,SAASH,KAAT,CAAeI,IAAf,EAAqBC,EAArB,EAAyBC,GAAzB,EAA8B;AACnC,SAAOF,KAAKG,GAAL,CAAS,UAAUA,GAAV,EAAeC,KAAf,EAAsB;AACpC,QAAIC,IAAI,cAAIC,GAAJ,CAAQC,IAAR,CAAaJ,GAAb,CAAR;AACA,WAAOE,EAAEG,CAAT;AACAP,OAAGQ,IAAH,CAAQ,IAAR,EAAcJ,CAAd,EAAiBD,KAAjB;AACD,GAJM,EAIJF,GAJI,CAAP;AAKD;;AAEM,SAASL,OAAT,CAAiBG,IAAjB,EAAuBU,EAAvB,EAA2BT,EAA3B,EAA+BC,GAA/B,EAAoC;AACzC,MAAIS,WAAWX,KAAKY,IAAL,CAAUF,EAAV,CAAf;AACA,MAAIC,QAAJ,EAAc;AACZf,UAAMe,QAAN,EAAgBV,EAAhB,EAAoBC,GAApB;AACD,GAFD,MAEO;AACL,UAAM,IAAIW,KAAJ,mBAA0BH,EAA1B,CAAN;AACD;AACF;;AAEM,SAASZ,KAAT,CAAeE,IAAf,EAAqBU,EAArB,EAAyBT,EAAzB,EAA6BC,GAA7B,EAAkC;AACvC,MAAIS,WAAWX,KAAKY,IAAL,CAAUF,EAAV,CAAf;AACA,MAAIC,QAAJ,EAAc;AACZA,aAASR,GAAT,CAAaF,EAAb,EAAiBC,GAAjB;AACD,GAFD,MAEO;AACL,UAAM,IAAIW,KAAJ,mBAA0BH,EAA1B,CAAN;AACD;AACF;;AAEM,SAASX,QAAT,OAEJ;AAAA,MADDe,KACC,QADDA,KACC;;AACDA,QAAMlB,KAAN,GAAc,UAAUK,EAAV,EAAcC,GAAd,EAAmB;AAC/B,WAAON,MAAM,IAAN,EAAYK,EAAZ,EAAgBC,GAAhB,CAAP;AACD,GAFD;;AAIAY,QAAMjB,OAAN,GAAgB,UAAUa,EAAV,EAAcT,EAAd,EAAkBC,GAAlB,EAAuB;AACrC,WAAOL,QAAQ,IAAR,EAAca,EAAd,EAAkBT,EAAlB,EAAsBC,GAAtB,CAAP;AACD,GAFD;;AAIAY,QAAMhB,KAAN,GAAc,UAAUY,EAAV,EAAcT,EAAd,EAAkBC,GAAlB,EAAuB;AACnC,WAAOJ,MAAM,IAAN,EAAYY,EAAZ,EAAgBT,EAAhB,EAAoBC,GAApB,CAAP;AACD,GAFD;;AAIA,SAAOY,KAAP;AACD","file":"value.js","sourcesContent":["import Gun from 'gun/gun'\n\nexport function value(node, cb, opt) {\n  return node.val(function (val, field) {\n    let v = Gun.obj.copy(val)\n    delete v._\n    cb.call(this, v, field)\n  }, opt);\n}\n\nexport function valueAt(node, at, cb, opt) {\n  let pathNode = node.path(at)\n  if (pathNode) {\n    value(pathNode, cb, opt)\n  } else {\n    throw new Error(`No such path ${at}`)\n  }\n}\n\nexport function valAt(node, at, cb, opt) {\n  let pathNode = node.path(at)\n  if (pathNode) {\n    pathNode.val(cb, opt)\n  } else {\n    throw new Error(`No such path ${at}`)\n  }\n}\n\nexport function addValue({\n  chain\n}) {\n  chain.value = function (cb, opt) {\n    return value(this, cb, opt)\n  }\n\n  chain.valueAt = function (at, cb, opt) {\n    return valueAt(this, at, cb, opt)\n  }\n\n  chain.valAt = function (at, cb, opt) {\n    return valAt(this, at, cb, opt)\n  }\n\n  return chain\n}"]}