{"version":3,"sources":["fields.js"],"names":["localFields","fields","addFields","node","mp","map","val","v","_","at","field","cb","opt","value","chain"],"mappings":";;;;;;;;;;;;;;QAAgBA,W,GAAAA,W;QAMAC,M,GAAAA,M;QAIAC,S,GAAAA,S;;;;AAVT,SAASF,WAAT,CAAqBG,IAArB,EAA2B;AAChC,MAAIC,KAAKD,KAAKE,GAAL,GAAWC,GAAX,CAAe;AAAA,WAAKC,CAAL;AAAA,GAAf,CAAT;AACA,MAAIF,MAAM,sBAAcD,GAAGI,CAAH,CAAKH,GAAnB,CAAV;AACA,SAAO,sBAAcA,GAAd,EAAmBA,GAAnB,CAAuB;AAAA,WAAKE,EAAEE,EAAF,CAAKC,KAAV;AAAA,GAAvB,CAAP;AACD;;AAEM,SAAST,MAAT,CAAgBE,IAAhB,EAAsBQ,EAAtB,EAA0BC,GAA1B,EAA+B;AACpCT,OAAKU,KAAL,CAAW;AAAA,WAAKF,GAAG,oBAAYJ,CAAZ,CAAH,CAAL;AAAA,GAAX,EAAoCK,GAApC;AACD;;AAEM,SAASV,SAAT,OAEJ;AAAA,MADDY,KACC,QADDA,KACC;;AACDA,QAAMb,MAAN,GAAe,UAAUU,EAAV,EAAcC,GAAd,EAAmB;AAChC,WAAOX,OAAO,IAAP,EAAaU,EAAb,EAAiBC,GAAjB,CAAP;AACD,GAFD;AAGA,SAAOE,KAAP;AACD","file":"fields.js","sourcesContent":["export function localFields(node) {\n  var mp = node.map().val(v => v)\n  var map = Object.values(mp._.map)\n  return Object.values(map).map(v => v.at.field)\n}\n\nexport function fields(node, cb, opt) {\n  node.value(v => cb(Object.keys(v)), opt)\n}\n\nexport function addFields({\n  chain\n}) {\n  chain.fields = function (cb, opt) {\n    return fields(this, cb, opt)\n  }\n  return chain\n}"]}